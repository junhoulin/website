import{b as c,i as _,k as w,c as l,o as r,a as k,d as s,F as y,f as h,t as o,h as T,A as u,D as f,z as L,J as $}from"./vendor-Cno24vNx.js";import{_ as M,c as V,b as x,H as D,F as I}from"./index-jFlqNuJj.js";const B={class:"checkout-page"},F={class:"container"},O={class:"checkout-content"},P={class:"order-summary-section mobile-only"},U={class:"order-summary"},K={class:"order-items"},A={class:"item-image"},H=["src","alt"],R={class:"item-details"},z={class:"item-name"},C={class:"item-category"},E={class:"item-quantity"},J={class:"item-price"},j={class:"price-summary"},G={class:"summary-row"},Q={class:"summary-value"},W={class:"summary-row"},X={class:"summary-value"},Y={class:"summary-row total"},Z={class:"summary-value"},ss={class:"checkout-form-section"},es={class:"form-section"},ts={class:"form-group"},os={class:"form-section"},as={class:"form-group"},is={class:"form-section"},ls={class:"delivery-options"},rs=["id","value"],ns=["for"],ds={class:"delivery-info"},cs={class:"delivery-name"},us={class:"delivery-price"},ms={class:"delivery-description"},vs={class:"form-section"},ps={class:"form-group"},_s={class:"form-actions"},ys=["disabled"],hs={class:"order-summary-section desktop-only"},fs={class:"order-summary"},gs={class:"order-items"},bs={class:"item-image"},ks=["src","alt"],Ns={class:"item-details"},Ss={class:"item-name"},qs={class:"item-category"},ws={class:"item-quantity"},Ts={class:"item-price"},Ls={class:"price-summary"},$s={class:"summary-row"},Ms={class:"summary-value"},Vs={class:"summary-row"},xs={class:"summary-value"},Ds={class:"summary-row total"},Is={class:"summary-value"},Bs={__name:"checkout",setup(Fs){const g=L(),a=c({recipientName:"",phone:"",deliveryMethod:"convenience",notes:""}),b=c([{id:"convenience",name:"超商取貨",price:60,description:"7-11、全家、萊爾富、OK超商取貨，3-5個工作天"},{id:"home_delivery",name:"宅配到府",price:120,description:"黑貓宅急便配送，2-3個工作天送達"}]),n=c([{id:1,name:"三戴式18K金 PVD不鏽鋼星月吊飾可轉換項鍊",category:"項鍊",price:1800,quantity:1,image:V},{id:2,name:"18K 金 PVD 不鏽鋼珍珠與圓片疊戴吊飾項鍊",category:"項鍊",price:650,quantity:2,image:x}]),m=_(()=>n.value.reduce((i,e)=>i+e.price*e.quantity,0)),v=_(()=>{const i=b.value.find(e=>e.id===a.value.deliveryMethod);return i?i.price:0}),p=_(()=>m.value+v.value),d=c(!1),N=()=>{g.back()},S=async()=>{if(!a.value.recipientName||!a.value.phone){alert("請填寫必填欄位");return}d.value=!0;try{await new Promise(i=>setTimeout(i,2e3)),console.log("訂單資訊:",{...a.value,items:n.value,total:p.value}),alert("訂單提交成功！"),g.push("/")}catch(i){console.error("訂單提交失敗:",i),alert("訂單提交失敗，請重試")}finally{d.value=!1}};return w(()=>{}),(i,e)=>(r(),l("div",B,[k(D),e[19]||(e[19]=s("div",{class:"page-header"},[s("div",{class:"container"},[s("h1",{class:"page-title"},"結帳"),s("p",{class:"page-subtitle"},"請填寫您的訂購資訊")])],-1)),s("div",F,[s("div",O,[s("div",P,[s("div",U,[e[7]||(e[7]=s("h2",{class:"summary-title"},"訂單摘要",-1)),s("div",K,[(r(!0),l(y,null,h(n.value,t=>(r(),l("div",{key:t.id,class:"order-item"},[s("div",A,[s("img",{src:t.image,alt:t.name},null,8,H)]),s("div",R,[s("h4",z,o(t.name),1),s("p",C,o(t.category),1),s("div",E,"數量："+o(t.quantity),1),s("div",J,"NT$ "+o((t.price*t.quantity).toLocaleString()),1)])]))),128))]),s("div",j,[s("div",G,[e[4]||(e[4]=s("span",{class:"summary-label"},"商品小計",-1)),s("span",Q,"NT$ "+o(m.value.toLocaleString()),1)]),s("div",W,[e[5]||(e[5]=s("span",{class:"summary-label"},"運費",-1)),s("span",X,"NT$ "+o(v.value.toLocaleString()),1)]),s("div",Y,[e[6]||(e[6]=s("span",{class:"summary-label"},"總金額",-1)),s("span",Z,"NT$ "+o(p.value.toLocaleString()),1)])])])]),s("div",ss,[s("form",{onSubmit:T(S,["prevent"]),class:"checkout-form"},[s("div",es,[e[9]||(e[9]=s("h2",{class:"section-title"},"收貨人資訊",-1)),s("div",ts,[e[8]||(e[8]=s("label",{for:"recipientName",class:"form-label"},"收貨人姓名 *",-1)),u(s("input",{type:"text",id:"recipientName","onUpdate:modelValue":e[0]||(e[0]=t=>a.value.recipientName=t),class:"form-input",placeholder:"請輸入收貨人姓名",required:""},null,512),[[f,a.value.recipientName]])])]),s("div",os,[e[11]||(e[11]=s("h2",{class:"section-title"},"聯絡資訊",-1)),s("div",as,[e[10]||(e[10]=s("label",{for:"phone",class:"form-label"},"聯絡電話 *",-1)),u(s("input",{type:"tel",id:"phone","onUpdate:modelValue":e[1]||(e[1]=t=>a.value.phone=t),class:"form-input",placeholder:"請輸入聯絡電話",required:""},null,512),[[f,a.value.phone]])])]),s("div",is,[e[12]||(e[12]=s("h2",{class:"section-title"},"送貨方式",-1)),s("div",ls,[(r(!0),l(y,null,h(b.value,t=>(r(),l("div",{class:"delivery-option",key:t.id},[u(s("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":e[2]||(e[2]=q=>a.value.deliveryMethod=q),class:"delivery-radio"},null,8,rs),[[$,a.value.deliveryMethod]]),s("label",{for:t.id,class:"delivery-label"},[s("div",ds,[s("span",cs,o(t.name),1),s("span",us,"NT$ "+o(t.price.toLocaleString()),1)]),s("p",ms,o(t.description),1)],8,ns)]))),128))])]),s("div",vs,[e[14]||(e[14]=s("h2",{class:"section-title"},"備註",-1)),s("div",ps,[e[13]||(e[13]=s("label",{for:"notes",class:"form-label"},"訂單備註",-1)),u(s("textarea",{id:"notes","onUpdate:modelValue":e[3]||(e[3]=t=>a.value.notes=t),class:"form-textarea",placeholder:"如有特殊需求請在此說明",rows:"4"},null,512),[[f,a.value.notes]])])]),s("div",_s,[s("button",{type:"button",class:"back-btn",onClick:N}," 返回購物車 "),s("button",{type:"submit",class:"submit-btn",disabled:d.value},o(d.value?"處理中...":"確認訂單"),9,ys)])],32)]),s("div",hs,[s("div",fs,[e[18]||(e[18]=s("h2",{class:"summary-title"},"訂單摘要",-1)),s("div",gs,[(r(!0),l(y,null,h(n.value,t=>(r(),l("div",{key:t.id,class:"order-item"},[s("div",bs,[s("img",{src:t.image,alt:t.name},null,8,ks)]),s("div",Ns,[s("h4",Ss,o(t.name),1),s("p",qs,o(t.category),1),s("div",ws,"數量："+o(t.quantity),1),s("div",Ts,"NT$ "+o((t.price*t.quantity).toLocaleString()),1)])]))),128))]),s("div",Ls,[s("div",$s,[e[15]||(e[15]=s("span",{class:"summary-label"},"商品小計",-1)),s("span",Ms,"NT$ "+o(m.value.toLocaleString()),1)]),s("div",Vs,[e[16]||(e[16]=s("span",{class:"summary-label"},"運費",-1)),s("span",xs,"NT$ "+o(v.value.toLocaleString()),1)]),s("div",Ds,[e[17]||(e[17]=s("span",{class:"summary-label"},"總金額",-1)),s("span",Is,"NT$ "+o(p.value.toLocaleString()),1)])])])])])]),k(I)]))}},Us=M(Bs,[["__scopeId","data-v-225e3be3"]]);export{Us as default};
